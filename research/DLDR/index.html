<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title id="journalDetailPageTitle">Journal Entries</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter font from Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome for Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <style>
      /* Define CSS variables for easier theme management */
      :root {
        --primary-blue: #2563eb; /* Tailwind blue-600 */
        --darker-blue: #1d4ed8; /* Tailwind blue-700 */
        --text-color: #334155; /* Tailwind slate-700 */
        --background-color: #f8fafc; /* Tailwind blue-50 */
        --border-color: #e2e8f0; /* Tailwind gray-200 */
        --shadow-color-light: rgba(0, 0, 0, 0.06);
        --shadow-color-dark: rgba(0, 0, 0, 0.1);
      }

      /* Apply Inter font and base background/text colors */
      body {
        font-family: "Inter", sans-serif;
        background-color: var(--background-color);
        color: var(--text-color);
      }

      /* Styling for individual paper entries */
      .paper-entry {
        transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out,
          border-color 0.2s ease-in-out;
        border-left: 5px solid var(--border-color); /* Subtle left border as a divider */
        border-radius: 0.5rem; /* Rounded corners for consistency */
      }

      /* Hover effects for paper entries */
      .paper-entry:hover {
        transform: translateX(5px); /* Slight shift to the right */
        box-shadow: 0 4px 10px -1px var(--shadow-color-dark),
          0 2px 6px -1px var(--shadow-color-light); /* More pronounced shadow */
        border-left-color: var(--primary-blue); /* Highlight border on hover */
      }

      /* Styling for paper links (CTA) */
      .paper-link {
        display: inline-flex; /* Allows icon and text to sit together */
        align-items: center; /* Vertically align icon and text */
        gap: 8px; /* Space between text and icon */
        color: var(--darker-blue); /* Darker blue for prominence */
        text-decoration: none; /* Remove default underline */
        font-weight: 600; /* Bolder text for links */
        transition: color 0.2s ease-in-out; /* Smooth color transition */
      }

      .paper-link:hover {
        color: var(--primary-blue); /* Lighter blue on hover */
        text-decoration: underline; /* Underline on hover for classic link feedback */
      }

      /* Abstract truncation and expansion */
      .abstract-truncate {
        display: -webkit-box;
        -webkit-line-clamp: 3; /* Limit to 3 lines */
        line-clamp: 3; /* Standard property for compatibility */
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis; /* Add ellipsis for truncated text */
      }

      .abstract-full {
        display: block; /* Show full abstract */
      }

      /* Styling for "Read More" / "Show Less" button */
      .read-more-btn {
        color: var(--primary-blue);
        font-weight: 500;
        cursor: pointer;
        display: inline-block;
        margin-top: 8px;
        transition: color 0.2s ease-in-out;
      }

      .read-more-btn:hover {
        color: var(--darker-blue);
      }
    </style>
  </head>
  <body class="flex flex-col min-h-screen">
    <!-- Header Section -->
    <header class="bg-white shadow-sm py-4 px-6 sticky top-0 z-50 rounded-b-lg">
      <div class="max-w-7xl mx-auto flex justify-between items-center">
        <h1 class="text-3xl font-bold text-gray-800" id="journalTitleHeader">
          Journal Entries
        </h1>
        <nav>
          <!-- Back to Journals link with icon -->
          <a
            href="/"
            class="text-blue-600 hover:text-blue-800 font-medium px-3 py-2 rounded-md transition duration-200 flex items-center gap-2"
          >
            <i class="fas fa-arrow-left"></i> Back to Journals
          </a>
        </nav>
      </div>
    </header>

    <!-- Main Content Area -->
    <main class="flex-grow max-w-7xl mx-auto p-6 w-full">
      <!-- Breadcrumbs for navigation -->
      <div class="text-gray-500 text-sm mb-4">
        <a href="/" class="hover:underline text-blue-600">Journals</a>
        <span class="mx-1">&gt;</span> <span id="breadcrumbJournalName"></span>
      </div>

      <h2
        class="text-3xl font-bold text-gray-800 mb-8 text-center"
        id="journalDetailHeading"
      ></h2>

      <div id="paperList" class="space-y-6">
        <!-- Paper entries will be dynamically loaded here -->
      </div>
    </main>

    <!-- Footer Section -->
    <footer class="bg-gray-800 text-white py-6 px-6 mt-auto rounded-t-lg">
      <div class="max-w-7xl mx-auto text-center text-gray-300">
        &copy; 2025 Journal Platform. All rights reserved.
      </div>
    </footer>

    <!-- JavaScript to dynamically load journal entries -->
     <script>
      
      document.addEventListener("DOMContentLoaded", () => {
        // Sample Data for Papers (linked to journals by journalId)
        // In a real application, this data would be fetched from an API or database.
        const allPapersData = {
          "dyslexia-research": [
            {
              id: "PA-Rhyming-Impact",
              title: "Phonological Awareness: Rhyming and Its Impact on Students with Dyslexia",
              authors: "Heston A",
              date: "July 15, 2025",
              abstract:
                "This paper provides a comprehensive review of phonological awareness, with a specific focus on rhyming ability, and its critical relationship to developmental dyslexia. Phonological awareness, the conscious ability to manipulate the sound structure of spoken language, is a foundational skill for literacy acquisition. Rhyming, an early component of onset-rime awareness, serves as a significant predictor of later reading success. A core tenet of dyslexia research, the Phonological Deficit Hypothesis, posits that individuals with dyslexia experience a primary impairment in phonological processing, consistently manifesting as persistent difficulties with rhyming and, more profoundly, with phonemic awareness. This review details the multifaceted impact of these deficits on decoding, encoding, and ultimately, reading comprehension. It further outlines key formal and informal assessment methods for identifying phonological awareness weaknesses and presents evidence-based intervention strategies, emphasizing explicit, systematic, and multisensory approaches. The paper concludes by highlighting the imperative for early identification, targeted intervention, and collaborative support to mitigate the adverse effects of phonological deficits on students with dyslexia, thereby fostering their literacy development.",
              link: "/research/DLDR/texts/PA-Rhyming-Impact.html",
            },
          ],
          // Add more journal data here if needed for demonstration
        };

        // Sample Journal Data (for displaying titles)
        const journalsData = [
          { id: "dyslexia-research", title: "Dyslexia Learning Disability Research" },
         
          // Add other journal titles here for potential future use
        ];

        // Get DOM elements
        const journalTitleHeader =
          document.getElementById("journalTitleHeader");
        const journalDetailHeading = document.getElementById(
          "journalDetailHeading"
        );
        const paperList = document.getElementById("paperList");
        const journalDetailPageTitle = document.getElementById(
          "journalDetailPageTitle"
        );
        const breadcrumbJournalName = document.getElementById(
          "breadcrumbJournalName"
        );

        // Get journalId from URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        let journalId = urlParams.get("journalId");

        // Default to 'ai-healthcare' if no journalId is provided or if it's invalid
        if (!journalId || !allPapersData[journalId]) {
          journalId = "dyslexia-research"; // Set a default journal ID
        }

        // Retrieve papers for the selected journal
        const papers = allPapersData[journalId];
        // Find the journal name from the journalsData array
        const journalName =
          journalsData.find((j) => j.id === journalId)?.title ||
          "Journal Entries";

        // Update page titles and headings
        journalTitleHeader.textContent = journalName;
        journalDetailHeading.textContent = `Papers in ${journalName}`;
        journalDetailPageTitle.textContent = `${journalName} - Entries`;
        breadcrumbJournalName.textContent = journalName; // Set breadcrumb text

        // Dynamically load paper entries
        if (papers && papers.length > 0) {
          papers.forEach((paper) => {
            const paperEntry = document.createElement("div");
            paperEntry.classList.add(
              "paper-entry",
              "bg-white",
              "p-6",
              "rounded-lg",
              "shadow-md",
              "border",
              "border-gray-200"
            );

            const abstractText = paper.abstract;
            // Determine if truncation is needed (e.g., if abstract is longer than 200 characters)
            const TRUNCATE_LENGTH = 200;
            const needsTruncation = abstractText.length > TRUNCATE_LENGTH;
            const truncatedAbstract = needsTruncation
              ? abstractText.substring(0, TRUNCATE_LENGTH) + "..."
              : abstractText;

            paperEntry.innerHTML = `
                        <h3 class="text-xl font-semibold text-blue-700 mb-2">
                            <a href="${paper.link}" class="paper-link">
                                <i class="fas fa-file-alt"></i> ${paper.title}
                            </a>
                        </h3>
                        <p class="text-gray-600 text-sm mb-1"><strong><i class="fas fa-user-friends"></i> Authors:</strong> ${
                          paper.authors
                        }</p>
                        <p class="text-gray-600 text-sm mb-3"><strong><i class="fas fa-calendar-alt"></i> Published:</strong> ${
                          paper.date
                        }</p>
                        <p class="text-gray-700 text-base ${
                          needsTruncation
                            ? "abstract-truncate"
                            : "abstract-full"
                        }" data-full-abstract="${abstractText}">${truncatedAbstract}</p>
                        ${
                          needsTruncation
                            ? '<span class="read-more-btn">Read More</span>'
                            : ""
                        }
                    `;
            paperList.appendChild(paperEntry);

            // Add event listener for "Read More" / "Show Less" functionality
            if (needsTruncation) {
              const readMoreBtn = paperEntry.querySelector(".read-more-btn");
              const abstractParagraph = paperEntry.querySelector(
                ".abstract-truncate, .abstract-full"
              ); // Select based on initial class

              readMoreBtn.addEventListener("click", () => {
                if (abstractParagraph.classList.contains("abstract-truncate")) {
                  // Expand abstract
                  abstractParagraph.classList.remove("abstract-truncate");
                  abstractParagraph.classList.add("abstract-full");
                  abstractParagraph.textContent =
                    abstractParagraph.dataset.fullAbstract;
                  readMoreBtn.textContent = "Show Less";
                } else {
                  // Truncate abstract
                  abstractParagraph.classList.remove("abstract-full");
                  abstractParagraph.classList.add("abstract-truncate");
                  abstractParagraph.textContent = truncatedAbstract;
                  readMoreBtn.textContent = "Read More";
                }
              });
            }
          });
        } else {
          // Enhanced empty state message
          paperList.innerHTML = `
                    <div class="text-gray-600 text-center py-10 border border-gray-300 rounded-lg bg-white shadow-sm">
                        <i class="fas fa-book-open text-5xl text-gray-400 mb-4"></i>
                        <p class="text-xl font-semibold">No papers found for this journal yet.</p>
                        <p class="text-base mt-2">We're working hard to bring you new research. Please check back soon!</p>
                        <a href="/" class="mt-4 inline-block bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition duration-300">
                            Explore Other Journals
                        </a>
                    </div>
                `;
        }
      });
     </script>
   
  </body>
</html>
