<!DOCTYPE html>
<html lang="en-US" class="scroll-smooth">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hesten's Learning - Pre-K: Level A</title>
  <meta name="description"
    content="Hesten's Learning - Pre-K: Level A: Math, Language Arts, Science, and Social Studies skills for early learners." />
  <meta name="keywords"
    content="Pre-K, math, language arts, science, social studies, early learning, personalized education" />
  <meta name="author" content="Hesten's Learning" />

  <!-- Open Graph / Social Media -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://hestena62.com/Level/A.html" />
  <meta property="og:title" content="Hesten's Learning - Pre-K: Level A" />
  <meta property="og:description"
    content="Foundational Skills in Math, Language Arts, Science, and Social Studies designed for early learners." />
  <meta property="og:image" content="/Images/6791421e-7ca7-40bd-83d3-06a479bf7f36.png" />

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <!-- Fonts: Inter (Standard), Open Dyslexic (A11y), Roboto Mono (Code/Focus) -->
  <link
    href="https://fonts.googleapis.com/css2?family=Open+Dyslexic&family=Inter:wght@400;500;600;700;800;900&family=Roboto+Mono:wght@400;700&display=swap"
    rel="stylesheet" />

  <script>
    // --- Tailwind & CSS Variables Configuration ---
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ["var(--site-font-family, 'Inter')", "sans-serif"],
            dyslexic: ['"Open Dyslexic"', 'sans-serif'],
            mono: ['"Roboto Mono"', 'monospace'],
          },
          colors: {
            'primary': 'var(--color-primary, #1D4ED8)',
            'secondary': 'var(--color-secondary, #3B82F6)',
            'accent': 'var(--color-accent, #60A5FA)',
            'base-bg': 'var(--color-base-bg, #F9FAFB)',
            'content-bg': 'var(--color-content-bg, #FFFFFF)',
            'text-default': 'var(--color-text-default, #1F2937)',
            'text-secondary': 'var(--color-text-secondary, #6B7280)',
            'focus-ring': 'var(--color-focus-ring, #F59E0B)',
            // Legacy mapping
            'header-bg': 'var(--color-header-bg)',
            'footer-bg-from': 'var(--color-footer-bg-from)',
            'footer-bg-to': 'var(--color-footer-bg-to)',
            'link-color': 'var(--color-link)',
          },
          animation: {
            'fade-in-up': 'fadeInUp 0.8s ease-out forwards',
          }
        },
      },
    };

    // --- State Management ---
    const defaultSettings = {
      theme: 'light',
      fontSize: 1.0,
      lineHeight: 1.6,
      fontFamily: 'Inter',
      reducedMotion: window.matchMedia('(prefers-reduced-motion: reduce)').matches,
      readingMask: false
    };

    const STORAGE_KEY = 'hl_a11y_v3';

    function loadSettings() {
      try {
        const stored = localStorage.getItem(STORAGE_KEY);
        return stored ? { ...defaultSettings, ...JSON.parse(stored) } : defaultSettings;
      } catch (e) { return defaultSettings; }
    }

    function saveSettings(settings) {
      try {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(settings));
        applySettings(settings);
        currentSettings = settings;
      } catch (e) { console.error(e); }
    }

    function applyHeadSettings(settings) {
      document.documentElement.style.setProperty('--site-font-size', `${settings.fontSize}rem`);
      document.documentElement.style.setProperty('--site-line-height', settings.lineHeight);

      let fontName = settings.fontFamily || 'Inter';
      if (fontName.includes(' ') || fontName === 'Open Dyslexic') fontName = `"${fontName}"`;
      document.documentElement.style.setProperty('--site-font-family', fontName);
    }

    function applySettings(settings) {
      applyHeadSettings(settings);
      const body = document.body;
      if (!body) return;

      body.classList.remove('light', 'dark', 'high-contrast');
      body.classList.add(settings.theme);

      // Reduced Motion
      if (settings.reducedMotion) {
        body.classList.add('reduced-motion');
        document.documentElement.classList.remove('scroll-smooth');
      } else {
        body.classList.remove('reduced-motion');
        document.documentElement.classList.add('scroll-smooth');
      }

      // Reading Mask
      const mask = document.getElementById('reading-mask');
      if (mask) {
        if (settings.readingMask) {
          mask.classList.remove('hidden');
        } else {
          mask.classList.add('hidden');
        }
      }
    }

    let currentSettings = loadSettings();
    applyHeadSettings(currentSettings);
  </script>

  <style>
    /* --- CSS Variables & Themes --- */
    body {
      background-color: var(--color-base-bg);
      color: var(--color-text-default);
      font-size: var(--site-font-size, 1rem);
      line-height: var(--site-line-height, 1.6);
      transition: background-color 0.3s ease, color 0.3s ease;
      font-family: var(--site-font-family, "Inter", sans-serif);
    }

    /* Strict Focus Visibility (WCAG AAA) */
    :focus-visible {
      outline: 3px solid var(--color-focus-ring) !important;
      outline-offset: 4px !important;
      border-radius: 2px !important;
      box-shadow: 0 0 0 4px var(--color-base-bg) !important;
      z-index: 50;
    }

    :focus:not(:focus-visible) {
      outline: none;
    }

    /* Light Theme */
    .light {
      --color-primary: #2563EB;
      /* Blue 600 */
      --color-secondary: #3B82F6;
      /* Blue 500 */
      --color-accent: #60A5FA;
      /* Blue 400 */
      --color-base-bg: #F3F4F6;
      /* Gray 100 */
      --color-content-bg: #FFFFFF;
      /* White */
      --color-text-default: #111827;
      /* Gray 900 */
      --color-text-secondary: #4B5563;
      /* Gray 600 */
      --color-header-bg: #1F2937;
      --color-footer-bg-from: #1E3A8A;
      /* Dark Blue */
      --color-footer-bg-to: #2563EB;
      /* Blue 600 */
      --color-focus-ring: #D97706;
      /* Amber 600 */
      --color-link: #2563EB;
    }

    /* Dark Theme */
    .dark {
      --color-primary: #6366F1;
      /* Indigo 500 */
      --color-secondary: #818CF8;
      /* Indigo 400 */
      --color-accent: #A5B4FC;
      /* Indigo 300 */
      --color-base-bg: #0F172A;
      /* Slate 900 */
      --color-content-bg: #1E293B;
      /* Slate 800 */
      --color-text-default: #F8FAFC;
      /* Slate 50 */
      --color-text-secondary: #CBD5E1;
      /* Slate 300 */
      --color-header-bg: #1E293B;
      --color-footer-bg-from: #312E81;
      --color-footer-bg-to: #4338CA;
      --color-focus-ring: #FDBA74;
      /* Orange 300 */
      --color-link: #818CF8;
    }

    /* High Contrast Theme */
    .high-contrast {
      --color-primary: #FFFF00;
      /* Yellow */
      --color-secondary: #00FFFF;
      /* Cyan */
      --color-accent: #FFFFFF;
      /* White */
      --color-base-bg: #000000;
      /* Black */
      --color-content-bg: #000000;
      /* Black */
      --color-text-default: #FFFF00;
      /* Yellow */
      --color-text-secondary: #00FFFF;
      /* Cyan */
      --color-header-bg: #000000;
      --color-footer-bg-from: #000000;
      --color-footer-bg-to: #000000;
      --color-focus-ring: #FFFFFF;
      --color-link: #FFFF00;
    }

    .high-contrast .bg-content-bg,
    .high-contrast nav,
    .high-contrast header,
    .high-contrast footer {
      border: 2px solid #FFFFFF;
    }

    .high-contrast a {
      text-decoration: underline;
    }

    /* Accessibility Utilities */
    .reduced-motion * {
      animation-duration: 0.01s !important;
      transition-duration: 0.01s !important;
      scroll-behavior: auto !important;
    }

    .skip-link {
      position: absolute;
      top: -9999px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--color-primary);
      color: white;
      padding: 1rem 2rem;
      z-index: 10000;
      font-weight: bold;
      border-radius: 0 0 0.5rem 0.5rem;
      transition: top 0.2s;
      text-decoration: none;
    }

    .skip-link:focus {
      top: 0;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }

    /* Reading Guide */
    #reading-mask {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.85);
      pointer-events: none;
      z-index: 60;
    }

    #reading-guide {
      position: absolute;
      width: 100%;
      height: 3rem;
      background: rgba(255, 255, 255, 0.15);
      border-top: 3px solid var(--color-focus-ring);
      border-bottom: 3px solid var(--color-focus-ring);
      cursor: row-resize;
      pointer-events: auto;
    }

    /* Sub-Nav Tabs */
    .sub-nav .tab-button.active {
      background-color: var(--color-accent);
      color: white;
      /* Contrast fix */
      font-weight: 700;
      border-bottom: 3px solid var(--color-primary);
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    /* Loading Spinner */
    .loader {
      border: 3px solid #f3f3f3;
      border-top: 3px solid var(--color-primary);
      border-radius: 50%;
      width: 16px;
      height: 16px;
      animation: spin 1s linear infinite;
      display: inline-block;
      vertical-align: middle;
      margin-right: 5px;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    /* PRINT STYLES */
    @media print {

      header,
      footer,
      #announcement-bar,
      #a11y-toggle-button,
      #back-to-top,
      .skip-link,
      .sub-nav {
        display: none !important;
      }

      body {
        background: white !important;
        color: black !important;
      }

      main {
        width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
      }

      .tab-content {
        display: block !important;
        break-inside: avoid;
        border: 1px solid #ccc;
        margin-bottom: 1cm;
        padding: 10px !important;
      }

      a {
        text-decoration: none;
        color: black !important;
      }
    }
  </style>
</head>

<body class="antialiased flex flex-col min-h-screen">

  <a href="#main-content" class="skip-link">Skip to Main Content</a>

  <!-- Init Scripts -->
  <script>
    (function () {
      document.body.classList.add(currentSettings.theme);
      if (currentSettings.reducedMotion) document.body.classList.add('reduced-motion');
    })();
  </script>

  <!-- Accessibility Settings Panel Trigger -->
  <button id="a11y-toggle-button"
    class="fixed bottom-6 right-6 z-50 w-14 h-14 bg-primary text-white rounded-full shadow-2xl hover:bg-secondary focus:ring-4 focus:ring-offset-2 focus:ring-primary transition-transform hover:scale-105 flex items-center justify-center"
    aria-label="Open Accessibility Settings" aria-controls="a11y-settings-panel" aria-haspopup="true">
    <i class="fas fa-universal-access text-2xl"></i>
  </button>

  <!-- Accessibility Panel -->
  <div id="a11y-settings-panel"
    class="fixed top-0 right-0 h-full w-80 bg-content-bg shadow-2xl z-50 transform translate-x-full transition-transform duration-300 overflow-y-auto p-6 border-l-4 border-primary"
    role="dialog" aria-modal="true" aria-label="Accessibility Options" aria-hidden="true">

    <div class="flex justify-between items-center mb-6">
      <h2 class="text-xl font-bold text-primary">Accessibility</h2>
      <button id="a11y-close-button" class="text-text-secondary hover:text-primary p-2 rounded-full transition-colors"
        aria-label="Close settings">
        <i class="fas fa-times text-xl"></i>
      </button>
    </div>

    <div class="space-y-8">
      <!-- Theme -->
      <fieldset>
        <legend class="block text-sm font-bold mb-3 text-text-default">Display Mode</legend>
        <div class="flex gap-2">
          <button id="theme-light"
            class="flex-1 py-3 rounded-lg border-2 border-gray-200 bg-white text-gray-900 hover:border-primary transition-all"
            aria-label="Light Mode"><i class="fas fa-sun mr-2"></i>Light</button>
          <button id="theme-dark"
            class="flex-1 py-3 rounded-lg border-2 border-gray-700 bg-gray-800 text-white hover:border-primary transition-all"
            aria-label="Dark Mode"><i class="fas fa-moon mr-2"></i>Dark</button>
          <button id="theme-contrast"
            class="flex-1 py-3 rounded-lg border-2 border-black bg-black text-yellow-400 hover:border-yellow-400 transition-all font-bold"
            aria-label="High Contrast"><i class="fas fa-adjust mr-2"></i>HC</button>
        </div>
      </fieldset>

      <!-- Fonts -->
      <fieldset>
        <legend class="block text-sm font-bold mb-3 text-text-default">Font Style</legend>
        <div class="grid grid-cols-1 gap-2">
          <button data-font="Inter"
            class="font-selector w-full py-2 px-4 rounded border bg-content-bg text-text-default hover:bg-base-bg text-left">Standard
            (Inter)</button>
          <button data-font="Open Dyslexic"
            class="font-selector w-full py-2 px-4 rounded border bg-content-bg text-text-default hover:bg-base-bg text-left font-dyslexic">Dyslexic
            Friendly</button>
          <button data-font="Roboto Mono"
            class="font-selector w-full py-2 px-4 rounded border bg-content-bg text-text-default hover:bg-base-bg text-left font-mono">Monospace
            / Coding</button>
        </div>
      </fieldset>

      <!-- Sliders -->
      <div>
        <label for="font-size-slider" class="block text-sm font-bold mb-2 text-text-default">Text Size: <span
            id="font-size-value">100</span>%</label>
        <input type="range" id="font-size-slider" min="0.8" max="1.6" step="0.1" value="1.0"
          class="w-full h-2 bg-gray-300 rounded-lg cursor-pointer accent-primary">
      </div>

      <!-- Toggles -->
      <div class="space-y-4">
        <div class="flex items-center justify-between">
          <label for="toggle-reading-mask" class="text-sm font-bold text-text-default cursor-pointer">Reading
            Guide</label>
          <input type="checkbox" id="toggle-reading-mask"
            class="w-12 h-6 rounded-full appearance-none bg-gray-300 checked:bg-primary transition-colors relative cursor-pointer after:content-[''] after:absolute after:top-1 after:left-1 after:bg-white after:w-4 after:h-4 after:rounded-full after:transition-transform checked:after:translate-x-6">
        </div>
        <div class="flex items-center justify-between">
          <label for="toggle-reduced-motion" class="text-sm font-bold text-text-default cursor-pointer">Reduce
            Motion</label>
          <input type="checkbox" id="toggle-reduced-motion"
            class="w-12 h-6 rounded-full appearance-none bg-gray-300 checked:bg-primary transition-colors relative cursor-pointer after:content-[''] after:absolute after:top-1 after:left-1 after:bg-white after:w-4 after:h-4 after:rounded-full after:transition-transform checked:after:translate-x-6">
        </div>
      </div>

      <button id="reset-a11y-settings"
        class="w-full bg-base-bg border border-text-secondary text-text-default py-3 rounded-lg mt-4 hover:bg-gray-200 transition-colors font-semibold">
        Reset to Defaults
      </button>
    </div>
  </div>

  <!-- Reading Mask DOM -->
  <div id="reading-mask" class="hidden">
    <div id="reading-guide" style="top: 30%"></div>
  </div>

  <!-- Announcement Bar (Level A Specific) -->
  <div id="announcement-bar" class="bg-primary text-white text-center py-3 relative z-40 transition-colors"
    role="region" aria-label="Site Announcement">
    <div class="container mx-auto px-12">
      <p class="text-sm font-medium">
        <i class="fas fa-bullhorn mr-2"></i>
        New features and content coming soon!
      </p>
      <p class="text-sm font-medium">
        <i class="fas fa-bullhorn mr-2"></i>
        I am currently aware of the nav menu not working on smaller screens.
      </p>
    </div>
    <button id="close-announcement"
      class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white/80 hover:text-white p-2 rounded-full hover:bg-white/10 transition-colors"
      aria-label="Dismiss announcement">
      <i class="fas fa-times"></i>
    </button>
  </div>

  <!-- Main Navigation -->
  <header class="bg-header-bg shadow-md transition-colors duration-300 relative z-30">
    <div class="container mx-auto px-4 py-3">
      <nav class="flex items-center justify-between flex-wrap">

        <!-- Logo -->
        <a class="flex items-center flex-shrink-0 text-white mr-8 group" href="/">
          <div class="rounded-full bg-white p-1 mr-3 group-hover:scale-110 transition-transform">
            <img src="/Images/6791421e-7ca7-40bd-83d3-06a479bf7f36.png" alt="" class="h-8 w-8 rounded-full"
              onerror="this.onerror=null; this.src='https://placehold.co/32x32/818CF8/FFFFFF?text=HL';" />
          </div>
          <span class="font-bold text-xl tracking-tight group-hover:text-accent transition-colors">Hesten's
            Learning</span>
        </a>

        <!-- Mobile Menu Button -->
        <div class="block lg:hidden">
          <button id="nav-toggle"
            class="flex items-center px-3 py-2 border rounded text-gray-200 border-gray-400 hover:text-white hover:border-white transition-colors"
            aria-label="Toggle navigation">
            <i class="fas fa-bars"></i>
          </button>
        </div>

        <!-- Links -->
        <div class="w-full flex-grow lg:flex lg:items-center lg:w-auto hidden" id="nav-content">
          <div class="text-sm lg:flex-grow font-medium">
            <a href="/"
              class="block mt-4 lg:inline-block lg:mt-0 text-gray-200 hover:text-white mr-6 hover:underline decoration-2 underline-offset-4 transition-all">
              <i class="fas fa-home mr-1 text-accent"></i> Home
            </a>
            <a href="#"
              class="block mt-4 lg:inline-block lg:mt-0 text-gray-200 hover:text-white mr-6 hover:underline decoration-2 underline-offset-4 transition-all">
              <i class="fas fa-book-open mr-1 text-accent"></i> Learning
            </a>
            <a href="/assessment.html"
              class="block mt-4 lg:inline-block lg:mt-0 text-gray-200 hover:text-white hover:underline decoration-2 underline-offset-4 transition-all">
              <i class="fas fa-clipboard-check mr-1 text-accent"></i> Assessment
            </a>
          </div>

          <!-- Search -->
          <div class="relative mt-4 lg:mt-0">
            <form action="/search.php" method="GET" role="search" class="relative">
              <label for="search-input" class="sr-only">Search</label>
              <input type="text" id="search-input" name="q" placeholder="Search topics..."
                class="bg-gray-700/50 text-white border border-gray-600 rounded-full py-2 pl-10 pr-4 focus:bg-gray-700 focus:border-accent w-full lg:w-64 transition-all placeholder-gray-400" />
              <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
            </form>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <!-- Level A Specific Sub-Nav (Tabs) -->
  <div
    class="sub-nav bg-content-bg flex justify-center items-center py-3 px-4 flex-wrap gap-4 w-full shadow-lg z-20 border-b border-gray-200 dark:border-gray-700"
    role="tablist" aria-label="Subject navigation tabs">
    <button id="tab1-button"
      class="tab-button active flex items-center gap-2 text-text-default px-4 py-2 rounded-lg transition-all duration-300 hover:bg-base-bg"
      data-target="tab1" aria-selected="true" role="tab">
      <i class="fas fa-calculator text-lg"></i> <span class="font-bold">Math</span>
    </button>
    <button id="tab2-button"
      class="tab-button flex items-center gap-2 text-text-default px-4 py-2 rounded-lg transition-all duration-300 hover:bg-base-bg"
      data-target="tab2" aria-selected="false" role="tab">
      <i class="fas fa-book-open text-lg"></i> <span class="font-bold">Language Arts</span>
    </button>
    <button id="tab3-button"
      class="tab-button flex items-center gap-2 text-text-default px-4 py-2 rounded-lg transition-all duration-300 hover:bg-base-bg"
      data-target="tab3" aria-selected="false" role="tab">
      <i class="fas fa-flask text-lg"></i> <span class="font-bold">Science</span>
    </button>
    <button id="tab4-button"
      class="tab-button flex items-center gap-2 text-text-default px-4 py-2 rounded-lg transition-all duration-300 hover:bg-base-bg"
      data-target="tab4" aria-selected="false" role="tab">
      <i class="fas fa-globe-americas text-lg"></i> <span class="font-bold">Social Studies</span>
    </button>
    <button id="tab5-button"
      class="tab-button flex items-center gap-2 text-text-default px-4 py-2 rounded-lg transition-all duration-300 hover:bg-base-bg"
      data-target="tab5" aria-selected="false" role="tab">
      <i class="fas fa-clipboard-list text-lg"></i> <span class="font-bold">Skill Plans</span>
    </button>
  </div>

  <!-- Hero Section (Level A) -->
  <header class="bg-gradient-to-r from-footer-bg-from to-footer-bg-to text-white py-16 px-4 text-center shadow-lg mb-8">
    <h1 class="text-4xl md:text-6xl font-extrabold leading-tight mb-4 tracking-tighter animate-fade-in-up">
      Pre-K - <span class="text-accent">Level A</span>
    </h1>
    <p class="text-xl md:text-2xl mb-4 font-light max-w-3xl mx-auto animate-fade-in-up delay-100 text-blue-100">
      Foundational Skills in Math, Language Arts, Science, and Social Studies designed for early learners.
    </p>
  </header>

  <!-- Main Content Area -->
  <main id="main-content" class="container mx-auto px-4 py-6 scroll-mt-24" role="main" tabindex="-1">

    <!-- Tab 1: Math -->
    <section id="tab1" class="tab-content active" role="tabpanel" aria-labelledby="tab1-button">
      <!-- Module 1 -->
      <div class="mb-12">
        <h2 class="text-3xl font-bold text-text-default mb-6 p-4 bg-accent/20 rounded-xl border-l-8 border-primary">
          Module 1: Counting to 5
        </h2>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <!-- Topic A -->
          <div class="bg-content-bg p-6 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700">
            <h3 class="text-xl font-bold text-text-default mb-4">Topic A: Matching Objects</h3>
            <div class="flex flex-wrap gap-2 mb-4">
              <button
                class="explain-button px-4 py-2 bg-primary text-white text-sm font-bold rounded-full hover:bg-secondary transition-colors focus:ring-2 focus:ring-offset-2 focus:ring-primary"
                data-topic="Matching Objects">Explain</button>
              <button
                class="activity-button px-4 py-2 bg-secondary text-white text-sm font-bold rounded-full hover:bg-accent transition-colors focus:ring-2 focus:ring-offset-2 focus:ring-secondary"
                data-topic="Matching Objects">Activity</button>
              <button
                class="story-button px-4 py-2 bg-gray-700 text-white text-sm font-bold rounded-full hover:bg-gray-600 transition-colors focus:ring-2 focus:ring-offset-2 focus:ring-gray-700"
                data-topic="Matching Objects">Story</button>
            </div>
            <!-- Dynamic Outputs -->
            <div
              class="explanation-output hidden mt-4 p-4 bg-blue-50 dark:bg-blue-900/30 text-text-default rounded-lg text-sm border-l-4 border-primary">
            </div>
            <div
              class="activity-output hidden mt-4 p-4 bg-green-50 dark:bg-green-900/30 text-text-default rounded-lg text-sm border-l-4 border-green-500">
            </div>
            <div
              class="story-output hidden mt-4 p-4 bg-purple-50 dark:bg-purple-900/30 text-text-default rounded-lg text-sm border-l-4 border-purple-500">
            </div>

            <ul class="list-disc pl-5 mt-4 text-text-secondary space-y-2">
              <li>Lesson 1: Identify identical objects.</li>
              <li>Lessons 2â€“3: Match 2 objects that are the same.</li>
              <li>Lesson 4: Match 2 objects that are used together.</li>
            </ul>
          </div>

          <!-- Topic B -->
          <div class="bg-content-bg p-6 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700">
            <h3 class="text-xl font-bold text-text-default mb-4">Topic B: Sorting</h3>
            <div class="flex flex-wrap gap-2 mb-4">
              <button
                class="explain-button px-4 py-2 bg-primary text-white text-sm font-bold rounded-full hover:bg-secondary transition-colors focus:ring-2 focus:ring-offset-2 focus:ring-primary"
                data-topic="Sorting">Explain</button>
              <button
                class="activity-button px-4 py-2 bg-secondary text-white text-sm font-bold rounded-full hover:bg-accent transition-colors focus:ring-2 focus:ring-offset-2 focus:ring-secondary"
                data-topic="Sorting">Activity</button>
              <button
                class="story-button px-4 py-2 bg-gray-700 text-white text-sm font-bold rounded-full hover:bg-gray-600 transition-colors focus:ring-2 focus:ring-offset-2 focus:ring-gray-700"
                data-topic="Sorting">Story</button>
            </div>
            <div
              class="explanation-output hidden mt-4 p-4 bg-blue-50 dark:bg-blue-900/30 text-text-default rounded-lg text-sm border-l-4 border-primary">
            </div>
            <div
              class="activity-output hidden mt-4 p-4 bg-green-50 dark:bg-green-900/30 text-text-default rounded-lg text-sm border-l-4 border-green-500">
            </div>
            <div
              class="story-output hidden mt-4 p-4 bg-purple-50 dark:bg-purple-900/30 text-text-default rounded-lg text-sm border-l-4 border-purple-500">
            </div>
            <ul class="list-disc pl-5 mt-4 text-text-secondary space-y-2">
              <li>Lesson 5: Make one group with a given attribute.</li>
              <li>Lesson 6: Sort into two groups.</li>
              <li>Lesson 7: Sort the same group in two ways.</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Placeholder for other modules -->
      <div class="p-8 text-center bg-content-bg rounded-2xl shadow-inner">
        <p class="text-text-secondary">More Math modules (Shapes, Counting to 10) are available in the full curriculum.
        </p>
      </div>
    </section>

    <!-- Other Tabs (Placeholders for brevity) -->
    <section id="tab2" class="tab-content" role="tabpanel">
      <div class="p-12 text-center bg-content-bg rounded-2xl"><i class="fas fa-tools text-4xl text-accent mb-4"></i>
        <h2 class="text-2xl font-bold text-text-default">Language Arts Coming Soon</h2>
      </div>
    </section>
    <section id="tab3" class="tab-content" role="tabpanel">
      <div class="p-12 text-center bg-content-bg rounded-2xl"><i class="fas fa-tools text-4xl text-accent mb-4"></i>
        <h2 class="text-2xl font-bold text-text-default">Science Coming Soon</h2>
      </div>
    </section>
    <section id="tab4" class="tab-content" role="tabpanel">
      <div class="p-12 text-center bg-content-bg rounded-2xl"><i class="fas fa-tools text-4xl text-accent mb-4"></i>
        <h2 class="text-2xl font-bold text-text-default">Social Studies Coming Soon</h2>
      </div>
    </section>
    <section id="tab5" class="tab-content" role="tabpanel">
      <div class="p-12 text-center bg-content-bg rounded-2xl"><i class="fas fa-tools text-4xl text-accent mb-4"></i>
        <h2 class="text-2xl font-bold text-text-default">Skill Plans Coming Soon</h2>
      </div>
    </section>

  </main>

  <!-- Back to Top Button -->
  <button id="back-to-top"
    class="fixed bottom-24 right-6 z-40 p-4 bg-gray-800 text-white rounded-full shadow-lg opacity-0 translate-y-10 transition-all duration-300 pointer-events-none focus:outline-none focus:ring-4 focus:ring-accent hover:bg-gray-700"
    aria-label="Scroll back to top">
    <i class="fas fa-arrow-up"></i>
  </button>

  <!-- Footer Wrapper -->
  <footer
    class="bg-gradient-to-r from-footer-bg-from to-footer-bg-to text-white py-12 px-4 rounded-t-[2rem] shadow-[0_-10px_40px_rgba(0,0,0,0.1)] transition-all duration-300 mt-auto">
    <div class="container mx-auto grid grid-cols-1 md:grid-cols-4 gap-10">
      <!-- About -->
      <div>
        <h3 class="text-xl font-bold mb-4 flex items-center text-white/90">
          <i class="fas fa-graduation-cap mr-3 text-accent text-2xl"></i> About
        </h3>
        <p class="text-sm leading-relaxed text-blue-100">
          Empowering students with learning disabilities through personalized, accessible, and engaging learning
          experiences.
        </p>
      </div>

      <!-- Quick Links -->
      <div>
        <h3 class="text-lg font-bold mb-4 text-white/90 border-b border-white/20 pb-2 inline-block">Quick Links</h3>
        <ul class="space-y-3 text-sm">
          <li><a href="/curriculum.php"
              class="flex items-center text-blue-100 hover:text-white hover:translate-x-1 transition-all"><i
                class="fas fa-scroll w-6 text-center text-accent"></i> Curriculum</a></li>
          <li><a href="/library.php"
              class="flex items-center text-blue-100 hover:text-white hover:translate-x-1 transition-all"><i
                class="fas fa-book-reader w-6 text-center text-accent"></i> Library</a></li>
          <li><a href="/research"
              class="flex items-center text-blue-100 hover:text-white hover:translate-x-1 transition-all"><i
                class="fas fa-flask w-6 text-center text-accent"></i> Research</a></li>
        </ul>
      </div>

      <!-- Support -->
      <div>
        <h3 class="text-lg font-bold mb-4 text-white/90 border-b border-white/20 pb-2 inline-block">Support</h3>
        <ul class="space-y-3 text-sm">
          <li><a href="/contact.html"
              class="flex items-center text-blue-100 hover:text-white hover:translate-x-1 transition-all"><i
                class="fas fa-envelope w-6 text-center text-accent"></i> Contact Us</a></li>
          <li><a href="/students.php"
              class="flex items-center text-blue-100 hover:text-white hover:translate-x-1 transition-all"><i
                class="fas fa-user-graduate w-6 text-center text-accent"></i> For Students</a></li>
          <li><a href="/teachers.php"
              class="flex items-center text-blue-100 hover:text-white hover:translate-x-1 transition-all"><i
                class="fas fa-chalkboard-teacher w-6 text-center text-accent"></i> For Teachers</a></li>
        </ul>
      </div>

      <!-- Legal & Settings -->
      <div>
        <h3 class="text-lg font-bold mb-4 text-white/90 border-b border-white/20 pb-2 inline-block">Legal</h3>
        <ul class="space-y-3 text-sm">
          <li><a href="/privacy.html"
              class="flex items-center text-blue-100 hover:text-white hover:translate-x-1 transition-all"><i
                class="fas fa-user-shield w-6 text-center text-accent"></i> Privacy Policy</a></li>
          <li><a href="/terms.html"
              class="flex items-center text-blue-100 hover:text-white hover:translate-x-1 transition-all"><i
                class="fas fa-file-contract w-6 text-center text-accent"></i> Terms of Use</a></li>
          <li>
            <button onclick="document.getElementById('a11y-toggle-button').click()"
              class="flex items-center text-left text-blue-100 hover:text-white hover:translate-x-1 transition-all w-full">
              <i class="fas fa-universal-access w-6 text-center text-accent"></i> Accessibility
            </button>
          </li>
        </ul>
      </div>
    </div>

    <div class="mt-12 pt-8 border-t border-white/20 text-center text-sm text-blue-100">
      <p>&copy; <span id="year"></span> Hesten's Learning.</p>
    </div>
  </footer>

  <!-- GLOBAL MODALS -->
  <div id="message-box" class="fixed inset-0 bg-black bg-opacity-80 hidden items-center justify-center z-[100]"
    role="alertdialog" aria-modal="true">
    <div
      class="bg-content-bg rounded-2xl shadow-2xl p-8 max-w-sm w-full text-center border border-gray-200 dark:border-gray-700">
      <h4 id="message-title" class="text-2xl font-bold mb-3 text-text-default">Notification</h4>
      <p id="message-text" class="mb-8 text-text-secondary">Message goes here.</p>
      <button id="message-ok-button"
        class="w-full bg-primary text-white py-3 rounded-lg font-bold hover:bg-secondary">OK</button>
    </div>
  </div>

  <div id="confirmation-modal" class="fixed inset-0 bg-black bg-opacity-80 hidden items-center justify-center z-[100]"
    role="dialog" aria-modal="true">
    <div
      class="bg-content-bg rounded-2xl shadow-2xl p-8 max-w-sm w-full text-center border border-gray-200 dark:border-gray-700">
      <h4 id="confirmation-title" class="text-2xl font-bold mb-3 text-text-default">Confirm</h4>
      <p id="confirmation-text" class="mb-8 text-text-secondary">Are you sure?</p>
      <div class="flex gap-4">
        <button id="confirm-no-button"
          class="flex-1 bg-gray-200 text-gray-800 py-3 rounded-lg font-bold">Cancel</button>
        <button id="confirm-yes-button" class="flex-1 bg-primary text-white py-3 rounded-lg font-bold">Confirm</button>
      </div>
    </div>
  </div>

  <!-- INTERACTIVE SCRIPTS -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      document.getElementById("year").textContent = new Date().getFullYear();

      // 1. Accessibility Panel Logic
      const a11yPanel = document.getElementById('a11y-settings-panel');
      const a11yBtn = document.getElementById('a11y-toggle-button');
      const a11yClose = document.getElementById('a11y-close-button');

      function togglePanel(show) {
        if (!a11yPanel) return;
        if (show) {
          a11yPanel.classList.remove('translate-x-full');
          a11yPanel.setAttribute('aria-hidden', 'false');
          if (a11yClose) a11yClose.focus();
        } else {
          a11yPanel.classList.add('translate-x-full');
          a11yPanel.setAttribute('aria-hidden', 'true');
          if (a11yBtn) a11yBtn.focus();
        }
      }
      if (a11yBtn) a11yBtn.addEventListener('click', () => togglePanel(true));
      if (a11yClose) a11yClose.addEventListener('click', () => togglePanel(false));

      // 2. Settings Listeners
      document.getElementById('theme-light')?.addEventListener('click', () => saveSettings({ ...currentSettings, theme: 'light' }));
      document.getElementById('theme-dark')?.addEventListener('click', () => saveSettings({ ...currentSettings, theme: 'dark' }));
      document.getElementById('theme-contrast')?.addEventListener('click', () => saveSettings({ ...currentSettings, theme: 'high-contrast' }));
      document.querySelectorAll('.font-selector').forEach(btn => btn.addEventListener('click', (e) => saveSettings({ ...currentSettings, fontFamily: e.target.dataset.font })));

      const fsSlider = document.getElementById('font-size-slider');
      if (fsSlider) {
        fsSlider.value = currentSettings.fontSize;
        fsSlider.addEventListener('input', (e) => document.documentElement.style.setProperty('--site-font-size', `${e.target.value}rem`));
        fsSlider.addEventListener('change', (e) => saveSettings({ ...currentSettings, fontSize: e.target.value }));
      }

      const maskToggle = document.getElementById('toggle-reading-mask');
      if (maskToggle) {
        maskToggle.checked = currentSettings.readingMask;
        maskToggle.addEventListener('change', (e) => saveSettings({ ...currentSettings, readingMask: e.target.checked }));
      }

      const motionToggle = document.getElementById('toggle-reduced-motion');
      if (motionToggle) {
        motionToggle.checked = currentSettings.reducedMotion;
        motionToggle.addEventListener('change', (e) => saveSettings({ ...currentSettings, reducedMotion: e.target.checked }));
      }

      document.getElementById('reset-a11y-settings')?.addEventListener('click', () => {
        saveSettings(defaultSettings);
        window.location.reload();
      });

      // 3. Tab Logic
      const tabs = document.querySelectorAll(".tab-button");
      const tabContents = document.querySelectorAll(".tab-content");
      tabs.forEach(tab => {
        tab.addEventListener("click", () => {
          tabs.forEach(t => { t.classList.remove("active"); t.setAttribute("aria-selected", "false"); t.style.borderBottom = "none"; });
          tabContents.forEach(c => c.classList.remove("active"));

          tab.classList.add("active");
          tab.setAttribute("aria-selected", "true");
          tab.style.borderBottom = "3px solid var(--color-primary)";
          document.getElementById(tab.dataset.target).classList.add("active");
        });
      });

      // 4. Back to Top
      const backToTopBtn = document.getElementById("back-to-top");
      window.addEventListener("scroll", () => {
        if (window.scrollY > 300) backToTopBtn.classList.remove("opacity-0", "translate-y-10", "pointer-events-none");
        else backToTopBtn.classList.add("opacity-0", "translate-y-10", "pointer-events-none");
      });
      backToTopBtn.addEventListener("click", () => window.scrollTo({ top: 0, behavior: "smooth" }));

      // 5. Reading Guide Drag
      const readingGuide = document.getElementById('reading-guide');
      if (readingGuide) {
        let isDragging = false;
        const onMove = (clientY) => {
          if (!isDragging) return;
          const percent = (clientY / window.innerHeight) * 100;
          readingGuide.style.top = `${Math.min(Math.max(percent, 5), 95)}%`;
        };
        readingGuide.addEventListener('mousedown', () => isDragging = true);
        document.addEventListener('mouseup', () => isDragging = false);
        document.addEventListener('mousemove', (e) => onMove(e.clientY));
      }

      // 6. Gemini API Logic
      async function callGeminiAPI(prompt, outputElement, button) {
        const originalText = button.innerHTML;
        button.innerHTML = '<div class="loader"></div>';
        button.disabled = true;
        outputElement.classList.remove("hidden");
        outputElement.innerHTML = "Generating...";

        try {
          // Simulated API call for demo safety - replace with actual fetch
          await new Promise(r => setTimeout(r, 1500));
          outputElement.innerHTML = `<strong>AI Response:</strong> Here is a generated response for: "${prompt}". <br><br> (Note: Connect your API key in the code to get real responses.)`;
          outputElement.innerHTML += '<button class="block mt-2 text-xs underline text-red-500" onclick="this.parentElement.classList.add(\'hidden\')">Close</button>';
        } catch (e) {
          outputElement.innerHTML = "Error generating content.";
        }
        button.innerHTML = originalText;
        button.disabled = false;
      }

      document.querySelectorAll(".explain-button").forEach(btn => btn.addEventListener("click", function () {
        callGeminiAPI(`Explain ${this.dataset.topic}`, this.closest("div").parentElement.querySelector(".explanation-output"), this);
      }));
      document.querySelectorAll(".activity-button").forEach(btn => btn.addEventListener("click", function () {
        callGeminiAPI(`Activity for ${this.dataset.topic}`, this.closest("div").parentElement.querySelector(".activity-output"), this);
      }));
      document.querySelectorAll(".story-button").forEach(btn => btn.addEventListener("click", function () {
        callGeminiAPI(`Story about ${this.dataset.topic}`, this.closest("div").parentElement.querySelector(".story-output"), this);
      }));

      // Apply initial settings
      applySettings(currentSettings);
    });
  </script>
</body>

</html>